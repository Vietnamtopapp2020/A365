function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,n,e){return n&&_defineProperties(t.prototype,n),e&&_defineProperties(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{"0s0z":function(t,n,e){"use strict";e.r(n),e.d(n,"MchatrFPageModule",(function(){return z}));var i,o,a,r=e("ofXK"),s=e("3Pt+"),c=e("TEn/"),u=e("tyNb"),b=e("mrSG"),l=e("ta6Y"),p=e("+pM1"),d=e("e0us"),g=e("Em8t"),h=e("o0vD"),f=e("cU+w"),M=e("1Sgb"),m=e("MmHD"),x=e("mY7k"),C=e("Va6k"),w=e("N59K"),O=e("IjTv"),v=e("LiBs"),P=e("y+tw"),k=e("/Jh7"),_=e("Atey"),q=e("Wesl"),L=e("JlpO"),D=e("fXoL"),T=e("16ES"),y=e("R+ho"),A=function(t){return{viewTrue:t}},I=[{path:"",component:(i=function(){function t(n,e,i,o,a){_classCallCheck(this,t),this.navCtr=n,this.modalController=e,this.service=i,this.toast=o,this.router=a,this.getlistquestion=[],this.ResutlMchatR=[],this.skip=0,this.take=10,this.sort="",this.query="",this.done=!1,this.position="",this.score="",this.completed=!0,this.data=null,this.answers=[],this.Dataquestion={code:"",content:"",createdAt:"",id:"",index:0,isDeleted:"",options:[{id:"",content:""},{id:"",content:""}],questionData:"",selectedOptionId:"",sliderImages:[],type:"",updatedAt:""},this.createdId="",this.OptionsData=null,this.DataquestionData=null,this.Resutlmchatrf=null,this.positons=null,this.answersFollowup=[],this.requireFollowup=!0,this.selectedOptionId="",this.data=this.router.getCurrentNavigation().extras.queryParams,this.Getquestionmchatrf()}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"Getquestionmchatrf",value:function(){var t=this;this.service.postAPIquestionmchatR("https://stage.api.a365.vn/mchatr/answersheets",{childId:this.data.id}).subscribe((function(n){var e=n.json();t.createdId=e.createdId,t.service.GetanswersheetsMchartR("https://stage.api.a365.vn/mchatr/answersheets/"+e.createdId).subscribe((function(n){var e=n.json(),i=0;e.answers.forEach((function(n){i++,t.inputData("answers",n,i)})),t.Dataquestion=t.getlistquestion[0]}),(function(t){}))}))}},{key:"Putanswersheetmchatrf",value:function(){for(var t=this,n=!0,e=0;e<this.getlistquestion.length;e++)if(null==this.getlistquestion[e].selectedOptionId||""==this.getlistquestion[e].selectedOptionId){n=!1;break}this.service.PutAPIanswersheetCDC("https://stage.api.a365.vn/mchatr/answersheets/"+this.createdId,{answers:this.answers}).subscribe((function(n){var e=n.json();t.requireFollowup=e.requireFollowup,t.requireFollowup&&t.service.postPushNotification("https://stage.api.a365.vn/mchatr/answersheets/"+t.createdId).subscribe((function(n){var e=n.json();t.answersFollowup=e.answers;var i=0;t.answersFollowup.forEach((function(t){1==t.score&&i++})),console.log(JSON.stringify(t.answersFollowup));for(var o=0;o<t.answersFollowup.length;o++){t.OpenFollwop(t.answersFollowup[o],i,1);break}}),(function(t){}))}),(function(t){})),this.service.PutAPImachartRsatus("https://stage.api.a365.vn/mchatr/answersheets/"+this.createdId+"/status",{isCompleted:n}).subscribe((function(t){}),(function(t){}))}},{key:"inputData",value:function(t,n,e){var i=this,o=[];n.question.options.forEach((function(t){o.push({content:i.getSafehtml(t.content),hasInput:t.hasInput,id:t.id,inputType:t.inputType,point:t.point})})),this.getlistquestion.push({questionData:t,index:e,code:n.question.code,content:this.getSafehtml(n.question.content),createdAt:n.question.createdAt,id:n.question.id,isDeleted:n.question.isDeleted,options:o,sliderImages:n.question.sliderImages,type:n.question.type,updatedAt:n.question.updatedAt,selectedOptionId:""})}},{key:"getSafehtml",value:function(t){var n=document.createElement("textarea");return n.innerHTML=t,n.value}},{key:"resutl",value:function(t,n){this.OptionsData=n,this.DataquestionData=t,this.DataquestionData.selectedOptionId=n.id}},{key:"NextQuestion",value:function(){var t=this.Dataquestion.index;20!=t&&(this.Dataquestion=this.getlistquestion[t],"answers"==this.DataquestionData.questionData&&((this.selectedOptionId="")?alert("Tr\u01b0\u1eddng n\xe0y kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 ch\u1ed1ng"):this.answers.push({questionId:this.DataquestionData.id,selectedOptionId:this.OptionsData.id})))}},{key:"GetResutlmcharRF",value:function(){var t=this;this.service.postGet("https://stage.api.a365.vn/mchatr/answersheets/"+this.createdId).subscribe((function(n){n.json(),t.Dataquestion=t.getlistquestion[0]}),(function(t){}))}},{key:"OpenFollwop",value:function(t,n,e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var o,a,r,s=this;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:i.t0=t.question.code,i.next="MCHAT-1"===i.t0?3:"MCHAT-2"===i.t0?5:"MCHAT-3"===i.t0?7:"MCHAT-4"===i.t0?9:"MCHAT-5"===i.t0?11:"MCHAT-6"===i.t0?13:"MCHAT-7"===i.t0?15:"MCHAT-8"===i.t0?17:"MCHAT-9"===i.t0?19:"MCHAT-10"===i.t0?21:"MCHAT-11"===i.t0?23:"MCHAT-12"===i.t0?25:"MCHAT-13"===i.t0?27:"MCHAT-14"===i.t0||"MCHAT-15"===i.t0?29:"MCHAT-16"===i.t0?31:"MCHAT-17"===i.t0?33:"MCHAT-18"===i.t0?35:"MCHAT-19"===i.t0?37:"MCHAT-20"===i.t0?39:40;break;case 3:return o=l.a,i.abrupt("break",40);case 5:return o=p.a,i.abrupt("break",40);case 7:return o=d.a,i.abrupt("break",40);case 9:return o=g.a,i.abrupt("break",40);case 11:return o=h.a,i.abrupt("break",40);case 13:return o=f.a,i.abrupt("break",40);case 15:return o=M.a,i.abrupt("break",40);case 17:return o=m.a,i.abrupt("break",40);case 19:return o=x.a,i.abrupt("break",40);case 21:return o=C.a,i.abrupt("break",40);case 23:return o=w.a,i.abrupt("break",40);case 25:return o=O.a,i.abrupt("break",40);case 27:return o=v.a,i.abrupt("break",40);case 29:return o=P.a,i.abrupt("break",40);case 31:return o=k.a,i.abrupt("break",40);case 33:return o=_.a,i.abrupt("break",40);case 35:return o=q.a,i.abrupt("break",40);case 37:return o=x.a,i.abrupt("break",40);case 39:o=L.a;case 40:return a=!1,n==e&&(a=!0),i.next=44,this.modalController.create({component:o,componentProps:{serial:e,countFollowp:n,id:this.createdId,done:a},cssClass:"cssModalFollowup"});case 44:return(r=i.sent).onDidDismiss().then((function(t){for(var e=t.data,i=e.index;i<s.answersFollowup.length;i++){s.OpenFollwop(s.answersFollowup[i],n,e.serial+1);break}})),i.next=48,r.present();case 48:return i.abrupt("return",i.sent);case 49:case"end":return i.stop()}}),i,this)})))}}]),t}(),i.\u0275fac=function(t){return new(t||i)(D.Jb(c.P),D.Jb(c.O),D.Jb(T.a),D.Jb(y.a),D.Jb(u.g))},i.\u0275cmp=D.Db({type:i,selectors:[["app-mchatr-f"]],decls:65,vars:11,consts:[["slot","start",2,"width","15%"],["text","","aria-label","chevron back outline",2,"color","white","background-color","#c92534","text-align","center"],[2,"width","15%"],[1,"container-fluid",2,"margin-bottom","10px"],[1,"conten"],[1,"conten1"],[1,"img3"],[1,"imgconten"],[1,"iconnumber"],[1,"textchl"],[1,"img4"],[1,"imgconten3"],[1,"iconnumbercenter"],[1,"numbercenter"],[1,"texttsch"],[1,"img5"],[1,"imgconten2"],[1,"container"],[1,"tab"],[1,"tab1"],[2,"color","white"],[3,"innerHTML"],[1,"tab",3,"ngClass","click"],[1,"tab2"],[1,"pa"],[2,"width","60%","float","left","text-align","center",3,"innerHTML"],[1,"menu"],[1,"img1",3,"click"],[1,"icon1"],["src","/assets/imgs/L\u01b0u c\xe2u h\u1ecfi.png"],[1,"textmenu"],[1,"imgcenter",3,"click"],[1,"icon2"],["src","/assets/imgs/H\u1ed7 tr\u1ee3 tr\u1ef1c tuy\u1ebfn.png"],[1,"img2",3,"click"],["src","/assets/imgs/b\u1ecf qua.png"]],template:function(t,n){1&t&&(D.Mb(0,"ion-header"),D.Mb(1,"ion-toolbar"),D.Mb(2,"ion-buttons",0),D.Kb(3,"ion-back-button",1),D.Lb(),D.Mb(4,"ion-title"),D.nc(5,"B\xe0i test MchartR/F"),D.Lb(),D.Kb(6,"div",2),D.Lb(),D.Lb(),D.Mb(7,"ion-content"),D.Mb(8,"div",3),D.Mb(9,"div",4),D.nc(10," GIAO TI\u1ebeP "),D.Lb(),D.Mb(11,"div",5),D.Mb(12,"div",6),D.Mb(13,"div",7),D.Mb(14,"div",8),D.nc(15,"3 "),D.Lb(),D.Lb(),D.Mb(16,"div",9),D.Mb(17,"label"),D.nc(18,"C\xe2u h\u1ecfi l\u01b0u"),D.Lb(),D.Lb(),D.Lb(),D.Mb(19,"div",10),D.Mb(20,"div",11),D.Mb(21,"div",12),D.Mb(22,"label",13),D.nc(23),D.Lb(),D.Lb(),D.Lb(),D.Mb(24,"div",14),D.Mb(25,"label"),D.nc(26,"T\u1ed5ng s\u1ed1 c\xe2u h\u1ecfi"),D.Lb(),D.Lb(),D.Lb(),D.Mb(27,"div",15),D.Mb(28,"div",16),D.Mb(29,"div",8),D.nc(30),D.Lb(),D.Lb(),D.Mb(31,"div",9),D.Mb(32,"label"),D.nc(33,"C\xe2u h\u1ecfi s\u1ed1"),D.Lb(),D.Lb(),D.Lb(),D.Lb(),D.Mb(34,"div",17),D.Mb(35,"div",18),D.Mb(36,"div",19),D.Mb(37,"p",20),D.Kb(38,"span",21),D.Lb(),D.Lb(),D.Lb(),D.Mb(39,"div",22),D.Ub("click",(function(){return n.resutl(n.Dataquestion,n.Dataquestion.options[0])})),D.Mb(40,"button",23),D.Mb(41,"div",24),D.nc(42," A : "),D.Lb(),D.Kb(43,"span",25),D.Lb(),D.Lb(),D.Mb(44,"div",22),D.Ub("click",(function(){return n.resutl(n.Dataquestion,n.Dataquestion.options[1])})),D.Mb(45,"button",23),D.Mb(46,"div",24),D.nc(47,"B : "),D.Lb(),D.Kb(48,"span",25),D.Lb(),D.Lb(),D.Mb(49,"div",26),D.Mb(50,"div",27),D.Ub("click",(function(){return n.Putanswersheetmchatrf()})),D.Mb(51,"div",28),D.Kb(52,"img",29),D.Lb(),D.Mb(53,"p",30),D.nc(54,"L\u01b0u c\xe2u h\u1ecfi"),D.Lb(),D.Lb(),D.Mb(55,"div",31),D.Ub("click",(function(){return n.GetResutlmcharRF()})),D.Mb(56,"div",32),D.Kb(57,"img",33),D.Lb(),D.Mb(58,"p",30),D.nc(59,"Xem K\u1ebft Qu\u1ea3"),D.Lb(),D.Lb(),D.Mb(60,"div",34),D.Ub("click",(function(){return n.NextQuestion()})),D.Mb(61,"div",28),D.Kb(62,"img",35),D.Lb(),D.Mb(63,"p",30),D.nc(64,"C\xe2u Ti\u1ebfp"),D.Lb(),D.Lb(),D.Lb(),D.Lb(),D.Lb(),D.Lb()),2&t&&(D.zb(23),D.oc(n.getlistquestion.length),D.zb(7),D.pc("",n.Dataquestion.index," "),D.zb(8),D.bc("innerHTML",n.Dataquestion.content,D.ic),D.zb(1),D.bc("ngClass",D.dc(7,A,n.Dataquestion.selectedOptionId==n.Dataquestion.options[0].id)),D.zb(4),D.bc("innerHTML",n.Dataquestion.options[0].content,D.ic),D.zb(1),D.bc("ngClass",D.dc(9,A,n.Dataquestion.selectedOptionId==n.Dataquestion.options[1].id)),D.zb(4),D.bc("innerHTML",n.Dataquestion.options[1].content,D.ic))},directives:[c.l,c.I,c.f,c.c,c.d,c.H,c.h,r.i],styles:[".containerconten[_ngcontent-%COMP%]{margin-left:3%;margin-right:3%;margin-bottom:5px;height:30%}.container[_ngcontent-%COMP%]{border-radius:7px;background-color:#fff;margin:7px;padding:5px}.menu[_ngcontent-%COMP%]{height:100px}.menu[_ngcontent-%COMP%], .menuconten[_ngcontent-%COMP%]{margin-left:5%;margin-right:5%;margin-top:30px}.menuconten[_ngcontent-%COMP%]{height:20%}.container-fluid[_ngcontent-%COMP%]{width:100%;height:100%}.tab21[_ngcontent-%COMP%]{background-color:#38a9bb;text-align:center;padding:1px}.tab[_ngcontent-%COMP%], .tab21[_ngcontent-%COMP%]{border-radius:7px}.tab[_ngcontent-%COMP%]{margin:10px 5px}.pa[_ngcontent-%COMP%]{width:20%;float:left;text-align:center;margin-top:16px}.tab2[_ngcontent-%COMP%]{background-color:#38a9bb;margin-top:10px;border-radius:31px;padding-top:5px;padding-left:10px;color:#fff;width:100%;height:51px}ion-content[_ngcontent-%COMP%]{--background:none;background-image:url(/assets/imgs/backgrourbaitestMchartR.jpg);background-repeat:no-repeat;background-size:cover;min-width:240px;max-width:768px}.container1[_ngcontent-%COMP%]{width:25%;float:left}.container2[_ngcontent-%COMP%]{width:40%}.container3[_ngcontent-%COMP%]{width:25%;float:right}.conten[_ngcontent-%COMP%]{font-size:17px;font-family:none;text-align:center;margin-top:10%;color:#fff;zoom:2;margin-bottom:10px}.texta[_ngcontent-%COMP%]{margin-top:19px}.texta[_ngcontent-%COMP%], .textcenter[_ngcontent-%COMP%]{font-size:14px;text-align:center;color:#fff}.textcenter[_ngcontent-%COMP%]{margin-top:40px}.number[_ngcontent-%COMP%]{font-size:45px;margin-top:20px}.number[_ngcontent-%COMP%], .numberA[_ngcontent-%COMP%]{color:#fff;text-align:center;display:block}.numberA[_ngcontent-%COMP%]{font-size:60px;margin-top:35px}.img1[_ngcontent-%COMP%]{float:left}.img1[_ngcontent-%COMP%], .img2[_ngcontent-%COMP%]{width:25%;border-radius:30px}.img2[_ngcontent-%COMP%]{float:right}.img3[_ngcontent-%COMP%], .img4[_ngcontent-%COMP%]{width:33%;float:left}.img4[_ngcontent-%COMP%]{border-radius:30px}.imgcenter[_ngcontent-%COMP%]{width:50%;float:left}.textmenu[_ngcontent-%COMP%]{text-align:center;font-size:12px;color:#38a9bb;margin:0;width:100%}.imgconten[_ngcontent-%COMP%]{width:55px;height:55px;background-color:#f0b51d;text-align:center}.imgconten[_ngcontent-%COMP%], .imgconten3[_ngcontent-%COMP%]{border-radius:54px;margin:0 auto}.imgconten3[_ngcontent-%COMP%]{width:90px;height:90px;background-color:#87ba3b}.imgconten2[_ngcontent-%COMP%]{width:55px;height:55px;border-radius:54px;background-color:#07cba7;text-align:center;margin:0 auto}.iconnumber[_ngcontent-%COMP%]{font-size:30px;padding-top:10px}.iconnumber[_ngcontent-%COMP%], .iconnumbercenter[_ngcontent-%COMP%]{text-align:center;font-weight:800;color:#fff}.iconnumbercenter[_ngcontent-%COMP%]{padding-top:20px;height:100%;font-size:45px}.numbercenter[_ngcontent-%COMP%]{font-weight:800;color:#fff;font-size:40px}.img5[_ngcontent-%COMP%]{width:33%;float:right}.texttsch[_ngcontent-%COMP%]{font-size:13px;margin-top:5px;color:#fff;width:100%;text-align:center}.icon1[_ngcontent-%COMP%]{margin-right:20%;margin-left:20%}.icon2[_ngcontent-%COMP%]{margin-right:29%;margin-left:29%;text-align:center}.conten1[_ngcontent-%COMP%]{height:21%;width:100%}.tab1[_ngcontent-%COMP%]{background-color:#38a9bb;border-radius:7px;text-align:center;padding:1px}.contenicon[_ngcontent-%COMP%]{width:55px;height:55px;border-radius:54px;background-color:#f0b51d;margin-top:16%;margin-left:29%}.chl[_ngcontent-%COMP%]{font-weight:800;color:#fff;font-size:30px}.textchl[_ngcontent-%COMP%]{width:100%;font-size:13px;margin-top:5%;color:#fff;text-align:center}span[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:77%}.tab2[_ngcontent-%COMP%]:hover{background-color:#e65a5a;margin-top:10px;border-radius:31px;padding-top:5px;padding-left:10px;color:#fff;width:100%;height:51px}ion-toolbar[_ngcontent-%COMP%]{--background:#c92534}.button[_ngcontent-%COMP%]{border-color:#c92534!important}.followupView[_ngcontent-%COMP%]{position:fixed;z-index:10;width:80%;top:31%;margin-left:10%;background:#fff;border:1px solid #d2d2d2;box-shadow:4px 7px 7px 2px #d2d2d2}.followup[_ngcontent-%COMP%]{width:50%;float:left;text-align:center;height:45px;padding-top:13px}.titlefollowup[_ngcontent-%COMP%]{text-align:center;padding-top:7px;border-bottom:1px solid #f2f2f2;background:#c92534;color:#fff;height:32px}"]}),i)}],H=((a=function t(){_classCallCheck(this,t)}).\u0275mod=D.Hb({type:a}),a.\u0275inj=D.Gb({factory:function(t){return new(t||a)},imports:[[u.i.forChild(I)],u.i]}),a),z=((o=function t(){_classCallCheck(this,t)}).\u0275mod=D.Hb({type:o}),o.\u0275inj=D.Gb({factory:function(t){return new(t||o)},imports:[[r.b,s.b,c.K,H]]}),o)}}]);