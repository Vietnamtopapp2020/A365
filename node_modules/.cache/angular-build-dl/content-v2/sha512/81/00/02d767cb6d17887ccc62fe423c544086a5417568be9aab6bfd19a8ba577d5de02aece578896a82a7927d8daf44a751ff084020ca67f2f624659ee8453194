{"version":3,"sources":["webpack:///src/app/page/mchatrguest/mchatrguest.page.html","webpack:///src/app/page/mchatrguest/mchatrguest-routing.module.ts","webpack:///src/app/page/mchatrguest/mchatrguest.module.ts","webpack:///src/app/page/mchatrguest/mchatrguest.page.scss","webpack:///src/app/page/mchatrguest/mchatrguest.page.ts"],"names":["routes","path","component","MchatrguestPageRoutingModule","imports","forChild","exports","MchatrguestPageModule","declarations","MchatrguestPage","navCtr","modalController","service","toast","router","getlistquestion","ResutlMchatR","skip","take","sort","query","completed","data","answers","Dataquestion","code","content","createdAt","id","index","isDeleted","options","questionData","selectedOptionId","sliderImages","type","updatedAt","createdId","OptionsData","DataquestionData","Data","getCurrentNavigation","extras","queryParams","body","childId","GetanswersheetsMchartR","answersheetId","token","subscribe","rs1","answersheets","json","forEach","element","inputData","error","showToast","checkdata","i","length","PutAPIanswersheetCDC","rs","body1","PutAPImachartRsatus","postPushNotification","rs2","question","optionsData","push","getSafehtml","hasInput","inputType","point","html","txt","document","createElement","innerHTML","value","alert","questionId","selector","template"],"mappings":"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","file":"page-mchatrguest-mchatrguest-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>mchatrguest</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MchatrguestPage } from './mchatrguest.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MchatrguestPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MchatrguestPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MchatrguestPageRoutingModule } from './mchatrguest-routing.module';\n\nimport { MchatrguestPage } from './mchatrguest.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MchatrguestPageRoutingModule\n  ],\n  declarations: [MchatrguestPage]\n})\nexport class MchatrguestPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2UvbWNoYXRyZ3Vlc3QvbWNoYXRyZ3Vlc3QucGFnZS5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\nimport { ModalController, NavController, BooleanValueAccessor, NavParams } from '@ionic/angular';\nimport { ServiceService } from 'src/app/providers/service.service';\nimport { ToastServiceService } from 'src/app/providers/toast-service.service';\nimport { Router, NavigationExtras, RouterModule } from '@angular/router';\n@Component({\n  selector: 'app-mchatrguest',\n  templateUrl: './mchatrguest.page.html',\n  styleUrls: ['./mchatrguest.page.scss'],\n})\nexport class MchatrguestPage implements OnInit {\n  [x: string]: any;\n  getlistquestion = [];\n  ResutlMchatR: any = [];\n  skip = 0;\n  take = 10;\n  sort = '';\n  query = '';\n  completed = true;\n  Data: any;\n  data = null;\n  answers = [];\n  Dataquestion = {\n    code: '',\n    content: '',\n    createdAt: '',\n    id: '',\n    index: '',\n    isDeleted: '',\n    options: [\n      {\n        id: \"\",\n        content: \"\",\n      },\n      {\n        id: \"\",\n        content: \"\",\n      },\n    ],\n    questionData: '',\n    selectedOptionId: '',\n    sliderImages: [],\n    type: \"\",\n    updatedAt: '',\n  };\n  createdId = \"\";\n  OptionsData = null;\n  DataquestionData = null;\n  constructor(\n    public navCtr: NavController,\n    public modalController: ModalController,\n    public service: ServiceService,\n    public toast: ToastServiceService,\n    public router: Router,\n  ) {\n    this.Data = this.router.getCurrentNavigation().extras.queryParams;\n   }\n\n  ngOnInit() {\n  }\n  Getquestionmchatr() {\n    var body = {\n      childId : this.data.id\n    };\n    // Call API post câu hỏi trong mchartR\n   \n        this.service.GetanswersheetsMchartR('https://stage.api.a365.vn/asq/guest/answersheets/' + this.Data.answersheetId + '?token=' + this.Data.token).subscribe\n          (rs1 => {\n            var answersheets = rs1.json();\n            var index = 0;\n            answersheets.answers.forEach(element => {\n              index++;\n              this.inputData(\"answers\", element, index);\n            });\n            this.Dataquestion = this.getlistquestion[0];\n          }, error => {\n            this.toast.showToast;\n          });\n     \n  }\n  // update câu trả lời\n  Putanswersheetmchatr() {\n    var checkdata = true;\n    for (var i = 0; i < this.getlistquestion.length; i++) {\n      if (this.getlistquestion[i].selectedOptionId == null || this.getlistquestion[i].selectedOptionId == \"\") {\n        checkdata = false;\n        break;\n      }\n    }\n    var body = { \n        \"answers\": this.answers\n    }\n    this.service.PutAPIanswersheetCDC('https://stage.api.a365.vn/mchatr/answersheets/' + this.createdId, body).subscribe\n      (rs => {\n        var body1={\n          \"isCompleted\":checkdata\n        }\n        this.service.PutAPImachartRsatus('https://stage.api.a365.vn/mchatr/answersheets/'+ this.createdId +'/status',body1).subscribe(\n          (rs1 => {\n          this.service.postPushNotification('https://stage.api.a365.vn/mchatr/answersheets/'+ this.createdId ).subscribe(rs2=>{\n          })      \n          }),error=>{\n            this.toast.showToast;\n          }\n          ) \n        }, error => {\n        this.toast.showToast;\n      });\n             \n  }\n\n  inputData(questionData, data, index) {\n    var options = []\n    data.question.options.forEach(optionsData => {\n      options.push({\n        content: this.getSafehtml(optionsData.content),\n        hasInput: optionsData.hasInput,\n        id: optionsData.id,\n        inputType: optionsData.inputType,\n        point: optionsData.point,\n      })\n    });\n    this.getlistquestion.push({\n      questionData: questionData,\n      index: index,\n      code: data.question.code,\n      content: this.getSafehtml(data.question.content),\n      createdAt: data.question.createdAt,\n      id: data.question.id,\n      isDeleted: data.question.isDeleted,\n      options: options,\n      sliderImages: data.question.sliderImages,\n      type: data.question.type,\n      updatedAt: data.question.updatedAt,\n      selectedOptionId: data.selectedOptionId,\n    });\n  }\n  public getSafehtml(html: string) {\n    var txt = document.createElement('textarea');\n    txt.innerHTML = html\n    return txt.value;\n  }\n  // lấy id câu hỏi,câu trả lời\n\n  resutl(Dataquestion, options) {\n    this.OptionsData = options;\n    this.DataquestionData = Dataquestion;\n    this.DataquestionData.selectedOptionId = options.id;\n    \n  }\n  // chuyển câu tiếp\n\n  NextQuestion() {\n    var index = this.Dataquestion.index;\n    this.Dataquestion = this.getlistquestion[index];\n    if(this.DataquestionData.questionData == \"answers\") {\n      if( this.selectedOptionId = \"\"){\n        alert('Trường này không được để chống');\n      }else\n      this.answers.push({\n        questionId: this.DataquestionData.id,\n        selectedOptionId: this.OptionsData.id\n      });\n    }\n  }\n\n}\n"]}