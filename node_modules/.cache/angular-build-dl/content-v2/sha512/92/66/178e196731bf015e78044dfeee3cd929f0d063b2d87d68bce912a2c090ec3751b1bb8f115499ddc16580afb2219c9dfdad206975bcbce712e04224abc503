(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{"16ES":function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var s=n("mrSG"),o=n("qlzE"),a=n("fXoL"),i=n("M2ZX"),p=n("TEn/"),r=n("R+ho"),h=n("tyNb");let d=(()=>{class t{constructor(t,e,n,s,o){this.http=t,this.nativeStorage=e,this.modalCtrl=n,this.toast=s,this.router=o,this.showList=!1,this.flagSet=0,this.Host="https://stage.api.a365.vn/",this.txtPinCode=null,this.language="vi",this.listPage=[],this.menuLinks=[{component:"/danhsachtre",name:"H\u1ed3 s\u01a1 tr\u1ebb",uri:"assets/icon/29.png",id:4},{component:"/zoom-call",name:" Trang ch\u1ee7",uri:"assets/icon/11.png",id:3},{component:"/history",name:"L\u1ecbch s\u1eed b\xe0i l\xe0m",uri:"assets/icon/13.png",id:5}],this.listFileShare=[],this.tokenId=""}changeSet(){this.flagSet=1}getHost(){return this.Host}postDeleteTokenId(t,e){var n=new o.a;return n.append("Content-Type","application/x-www-form-urlencoded"),this.http.post(t,e,{headers:n})}postPushNotification(t){var e=new o.a;return e.append("Content-Type","application/json"),e.append("Authorization","Bearer "+this.tokenId),this.http.get(t,{headers:e})}getAPINoJson(t){return this.http.get(t)}getDataNativeStore(t){return this.nativeStorage.getItem(t)}setDataNativeStore(t){return this.nativeStorage.setItem(t,{})}removeDataNativeStore(t){return console.log("msg :"+t),this.nativeStorage.remove(t)}GetAPI(t){var e=new o.a;return e.append("Content-Type","application/x-www-form-urlencoded"),this.http.get(t,{headers:e})}postAPILogin(t,e){var n=new o.a;return n.append("Access-Control-Allow-Origin","*"),n.append("Access-Control-Allow-Methods","POST, GET, OPTIONS, PUT"),n.append("Accept","application/x-www-form-urlencoded"),n.append("Content-Type","application/x-www-form-urlencoded"),this.http.post(t,e,{headers:n})}postAPIregister(t,e){var n=new o.a;return n.append("Access-Control-Allow-Origin","*"),n.append("Access-Control-Allow-Methods","POST, GET, OPTIONS, PUT"),n.append("Accept","application/json"),n.append("Content-Type","application/json"),this.http.post(t,e,{headers:n})}postGet(t){var e=new o.a;return e.append("Access-Control-Allow-Origin","*"),e.append("Access-Control-Allow-Methods","POST, GET, OPTIONS, PUT"),e.append("Accept","application/json"),e.append("Content-Type","application/json"),e.append("Authorization","Bearer "+this.tokenId),this.http.get(t,{headers:e})}postAPI(t,e){var n=new o.a;return n.append("Access-Control-Allow-Origin","*"),n.append("Access-Control-Allow-Methods","POST, GET, OPTIONS, PUT"),n.append("Accept","application/x-www-form-urlencoded"),n.append("Content-Type","application/x-www-form-urlencoded"),n.append("Authorization","Bearer "+this.tokenId),this.http.post(t,e,{headers:n})}PutAPImachartRsatus(t,e){var n=new o.a;return n.append("Access-Control-Allow-Origin","*"),n.append("Access-Control-Allow-Methods","POST, GET, OPTIONS, PUT"),n.append("Accept","application/x-www-form-urlencoded"),n.append("Content-Type","application/json"),n.append("Authorization","Bearer "+this.tokenId),this.http.put(t,e,{headers:n})}PutAPI(t,e){var n=new o.a;return n.append("Access-Control-Allow-Origin","*"),n.append("Access-Control-Allow-Methods","POST, GET, OPTIONS, PUT"),n.append("Accept","application/x-www-form-urlencoded"),n.append("Content-Type","application/x-www-form-urlencoded"),n.append("Authorization","Bearer "+this.tokenId),this.http.put(t,e,{headers:n})}PutAPIcr(t){var e=new o.a;return e.append("Access-Control-Allow-Origin","*"),e.append("Access-Control-Allow-Methods","POST, GET, OPTIONS, PUT"),e.append("Accept","application/x-www-form-urlencoded"),e.append("Content-Type","application/x-www-form-urlencoded"),e.append("Authorization","Bearer "+this.tokenId),this.http.put(t,{headers:e})}PutAPIanswersheetMchartR(t,e){var n=new o.a;return n.append("Access-Control-Allow-Origin","*"),n.append("Access-Control-Allow-Methods","POST, GET, OPTIONS, PUT"),n.append("Content-Type","application/json"),n.append("Authorization","Bearer "+this.tokenId),new o.d({headers:n,withCredentials:!0}),this.http.put(t,e,{headers:n})}postAPIquestionmchatR(t,e){var n=new o.a;return n.append("Access-Control-Allow-Origin","*"),n.append("Access-Control-Allow-Methods","POST, GET, OPTIONS, PUT"),n.append("Accept","application/json"),n.append("Content-Type","application/json"),n.append("Authorization","Bearer "+this.tokenId),this.http.post(t,e,{headers:n})}GetanswersheetsMchartR(t){var e=new o.a;return e.append("Content-Type","application/json"),e.append("Authorization","Bearer "+this.tokenId),this.http.get(t,{headers:e})}Getchildren(t){var e=new o.a;return e.append("Access-Control-Allow-Origin","*"),e.append("Access-Control-Allow-Methods","POST, GET, OPTIONS, PUT"),e.append("Accept","application/json"),e.append("Content-Type","application/json"),e.append("Authorization","Bearer "+this.tokenId),this.http.get(t,{headers:e})}PutAPIanswersheetCDC(t,e){var n=new o.a;return n.append("Access-Control-Allow-Origin","*"),n.append("Access-Control-Allow-Methods","POST, GET, OPTIONS, PUT"),n.append("Content-Type","application/json"),n.append("Authorization","Bearer "+this.tokenId),this.http.put(t,e,{headers:n})}postAPIquestionCDC(t,e){var n=new o.a;return n.append("Access-Control-Allow-Origin","*"),n.append("Access-Control-Allow-Methods","POST, GET, OPTIONS, PUT"),n.append("Accept","application/json"),n.append("Content-Type","application/json"),n.append("Authorization","Bearer "+this.tokenId),this.http.post(t,e,{headers:n})}postAPIpw(t){var e=new o.a;return e.append("Access-Control-Allow-Origin","*"),e.append("Access-Control-Allow-Methods","POST, GET, OPTIONS, PUT"),e.append("Accept","application/json"),e.append("Content-Type","application/json"),e.append("Authorization","Bearer "+this.tokenId),this.http.post(t,{headers:e})}postAPIDelete(t){var e=new o.a;return e.append("Access-Control-Allow-Origin","*"),e.append("Access-Control-Allow-Methods","POST, GET, OPTIONS, PUT"),e.append("Accept","application/json"),e.append("Content-Type","application/json"),e.append("Authorization","Bearer "+this.tokenId),this.http.delete(t,{headers:e})}GetanswersheetsCDC(t){var e=new o.a;return e.append("Content-Type","application/json"),e.append("Authorization","Bearer "+this.tokenId),this.http.get(t,{headers:e})}GetanswersheetQOL(t){var e=new o.a;return e.append("Content-Type","application/json"),e.append("Authorization","Bearer"+this.tokenId),this.http.get(t,{headers:e})}PostanswersheetQOL(t,e){var n=new o.a;return n.append("Access-Control-Allow-Origin","*"),n.append("Access-Content-Allow-Methods","POST,GET,OPTIONS,PUT"),n.append("Access","application/json"),n.append("Content-Type","application/json"),n.append("Authorization","Bearer"+this.tokenId),this.http.post(t,e,{headers:n})}PutanswersheetQOL(t,e){var n=new o.a;return n.append("Accept-Control-Allow-Origin","*"),n.append("Access-Control-Allow-Methods","POST,GET,OPTIONS,PUT"),n.append("Access","application/json"),n.append("Content-type","application/json"),n.append("Authorization","Bearer"+this.tokenId),this.http.put(t,e,{headers:n})}postAPI1(t,e){var n=new o.a;return n.append("Access-Control-Allow-Origin","*"),n.append("Access-Control-Allow-Methods","POST, GET, OPTIONS, PUT"),n.append("Accept","application/json"),n.append("Content-Type","application/json"),n.append("Authorization","Bearer"+this.tokenId),new o.d({headers:n,withCredentials:!0}),this.http.post(t,e,{headers:n})}message(t){this.toast.showToast(t)}messageErorr(t){this.toast.showToast(t)}openMenuPage(t){return Object(s.a)(this,void 0,void 0,(function*(){1===t.id?this.router.navigateByUrl(t.component):3==t.id||this.router.navigate([t.component])}))}CloseMenu(){this.showList=!1}}return t.\u0275fac=function(e){return new(e||t)(a.Sb(o.b),a.Sb(i.a),a.Sb(p.Q),a.Sb(r.a),a.Sb(h.g))},t.\u0275prov=a.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},MbGh:function(t,e,n){"use strict";n.r(e),n.d(e,"MchatrguestPageModule",(function(){return l}));var s=n("ofXK"),o=n("3Pt+"),a=n("TEn/"),i=n("tyNb"),p=n("fXoL"),r=n("16ES"),h=n("R+ho");const d=[{path:"",component:(()=>{class t{constructor(t,e,n,s,o){this.navCtr=t,this.modalController=e,this.service=n,this.toast=s,this.router=o,this.getlistquestion=[],this.ResutlMchatR=[],this.skip=0,this.take=10,this.sort="",this.query="",this.completed=!0,this.data=null,this.answers=[],this.Dataquestion={code:"",content:"",createdAt:"",id:"",index:"",isDeleted:"",options:[{id:"",content:""},{id:"",content:""}],questionData:"",selectedOptionId:"",sliderImages:[],type:"",updatedAt:""},this.createdId="",this.OptionsData=null,this.DataquestionData=null,this.Data=this.router.getCurrentNavigation().extras.queryParams}ngOnInit(){}Getquestionmchatr(){this.service.GetanswersheetsMchartR("https://stage.api.a365.vn/asq/guest/answersheets/"+this.Data.answersheetId+"?token="+this.Data.token).subscribe(t=>{var e=t.json(),n=0;e.answers.forEach(t=>{n++,this.inputData("answers",t,n)}),this.Dataquestion=this.getlistquestion[0]},t=>{})}Putanswersheetmchatr(){for(var t=!0,e=0;e<this.getlistquestion.length;e++)if(null==this.getlistquestion[e].selectedOptionId||""==this.getlistquestion[e].selectedOptionId){t=!1;break}this.service.PutAPIanswersheetCDC("https://stage.api.a365.vn/mchatr/answersheets/"+this.createdId,{answers:this.answers}).subscribe(e=>{this.service.PutAPImachartRsatus("https://stage.api.a365.vn/mchatr/answersheets/"+this.createdId+"/status",{isCompleted:t}).subscribe(t=>{this.service.postPushNotification("https://stage.api.a365.vn/mchatr/answersheets/"+this.createdId).subscribe(t=>{})},t=>{})},t=>{})}inputData(t,e,n){var s=[];e.question.options.forEach(t=>{s.push({content:this.getSafehtml(t.content),hasInput:t.hasInput,id:t.id,inputType:t.inputType,point:t.point})}),this.getlistquestion.push({questionData:t,index:n,code:e.question.code,content:this.getSafehtml(e.question.content),createdAt:e.question.createdAt,id:e.question.id,isDeleted:e.question.isDeleted,options:s,sliderImages:e.question.sliderImages,type:e.question.type,updatedAt:e.question.updatedAt,selectedOptionId:e.selectedOptionId})}getSafehtml(t){var e=document.createElement("textarea");return e.innerHTML=t,e.value}resutl(t,e){this.OptionsData=e,this.DataquestionData=t,this.DataquestionData.selectedOptionId=e.id}NextQuestion(){this.Dataquestion=this.getlistquestion[this.Dataquestion.index],"answers"==this.DataquestionData.questionData&&((this.selectedOptionId="")?alert("Tr\u01b0\u1eddng n\xe0y kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 ch\u1ed1ng"):this.answers.push({questionId:this.DataquestionData.id,selectedOptionId:this.OptionsData.id}))}}return t.\u0275fac=function(e){return new(e||t)(p.Lb(a.R),p.Lb(a.Q),p.Lb(r.a),p.Lb(h.a),p.Lb(i.g))},t.\u0275cmp=p.Fb({type:t,selectors:[["app-mchatrguest"]],decls:5,vars:0,template:function(t,e){1&t&&(p.Ob(0,"ion-header"),p.Ob(1,"ion-toolbar"),p.Ob(2,"ion-title"),p.pc(3,"mchatrguest"),p.Nb(),p.Nb(),p.Nb(),p.Mb(4,"ion-content"))},directives:[a.l,a.K,a.J,a.h],styles:[""]}),t})()}];let c=(()=>{class t{}return t.\u0275mod=p.Jb({type:t}),t.\u0275inj=p.Ib({factory:function(e){return new(e||t)},imports:[[i.i.forChild(d)],i.i]}),t})(),l=(()=>{class t{}return t.\u0275mod=p.Jb({type:t}),t.\u0275inj=p.Ib({factory:function(e){return new(e||t)},imports:[[s.b,o.c,a.M,c]]}),t})()},"R+ho":function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var s=n("mrSG"),o=n("fXoL"),a=n("qlzE"),i=n("TEn/");let p=(()=>{class t{constructor(t,e,n,s){this.http=t,this.toastCtrl=e,this.platform=n,this.loadingCtrl=s}showLoading(t){return Object(s.a)(this,void 0,void 0,(function*(){const e=yield this.loadingCtrl.create({message:t,duration:2e3});yield e.present()}))}showToast(t){return Object(s.a)(this,void 0,void 0,(function*(){const e=yield this.toastCtrl.create({message:t,duration:2e3});yield e.present()}))}}return t.\u0275fac=function(e){return new(e||t)(o.Sb(a.b),o.Sb(i.Y),o.Sb(i.U),o.Sb(i.O))},t.\u0275prov=o.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);