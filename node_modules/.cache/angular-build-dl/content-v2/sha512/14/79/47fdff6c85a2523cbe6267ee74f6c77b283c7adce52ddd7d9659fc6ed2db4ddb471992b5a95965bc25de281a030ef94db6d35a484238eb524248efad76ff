{"version":3,"sources":["./src/app/page/mchatrguest/mchatrguest.page.html","./src/app/page/mchatrguest/mchatrguest-routing.module.ts","./src/app/page/mchatrguest/mchatrguest.module.ts","./src/app/page/mchatrguest/mchatrguest.page.scss","./src/app/page/mchatrguest/mchatrguest.page.ts"],"names":[],"mappings":"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","file":"page-mchatrguest-mchatrguest-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>mchatrguest</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MchatrguestPage } from './mchatrguest.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MchatrguestPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MchatrguestPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MchatrguestPageRoutingModule } from './mchatrguest-routing.module';\n\nimport { MchatrguestPage } from './mchatrguest.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MchatrguestPageRoutingModule\n  ],\n  declarations: [MchatrguestPage]\n})\nexport class MchatrguestPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2UvbWNoYXRyZ3Vlc3QvbWNoYXRyZ3Vlc3QucGFnZS5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\nimport { ModalController, NavController, BooleanValueAccessor, NavParams } from '@ionic/angular';\nimport { ServiceService } from 'src/app/providers/service.service';\nimport { ToastServiceService } from 'src/app/providers/toast-service.service';\nimport { Router, NavigationExtras, RouterModule } from '@angular/router';\n@Component({\n  selector: 'app-mchatrguest',\n  templateUrl: './mchatrguest.page.html',\n  styleUrls: ['./mchatrguest.page.scss'],\n})\nexport class MchatrguestPage implements OnInit {\n  [x: string]: any;\n  getlistquestion = [];\n  ResutlMchatR: any = [];\n  skip = 0;\n  take = 10;\n  sort = '';\n  query = '';\n  completed = true;\n  Data: any;\n  data = null;\n  answers = [];\n  Dataquestion = {\n    code: '',\n    content: '',\n    createdAt: '',\n    id: '',\n    index: '',\n    isDeleted: '',\n    options: [\n      {\n        id: \"\",\n        content: \"\",\n      },\n      {\n        id: \"\",\n        content: \"\",\n      },\n    ],\n    questionData: '',\n    selectedOptionId: '',\n    sliderImages: [],\n    type: \"\",\n    updatedAt: '',\n  };\n  createdId = \"\";\n  OptionsData = null;\n  DataquestionData = null;\n  constructor(\n    public navCtr: NavController,\n    public modalController: ModalController,\n    public service: ServiceService,\n    public toast: ToastServiceService,\n    public router: Router,\n  ) {\n    this.Data = this.router.getCurrentNavigation().extras.queryParams;\n   }\n\n  ngOnInit() {\n  }\n  Getquestionmchatr() {\n    var body = {\n      childId : this.data.id\n    };\n    // Call API post câu hỏi trong mchartR\n   \n        this.service.GetanswersheetsMchartR('https://stage.api.a365.vn/asq/guest/answersheets/' + this.Data.answersheetId + '?token=' + this.Data.token).subscribe\n          (rs1 => {\n            var answersheets = rs1.json();\n            var index = 0;\n            answersheets.answers.forEach(element => {\n              index++;\n              this.inputData(\"answers\", element, index);\n            });\n            this.Dataquestion = this.getlistquestion[0];\n          }, error => {\n            this.toast.showToast;\n          });\n     \n  }\n  // update câu trả lời\n  Putanswersheetmchatr() {\n    var checkdata = true;\n    for (var i = 0; i < this.getlistquestion.length; i++) {\n      if (this.getlistquestion[i].selectedOptionId == null || this.getlistquestion[i].selectedOptionId == \"\") {\n        checkdata = false;\n        break;\n      }\n    }\n    var body = { \n        \"answers\": this.answers\n    }\n    this.service.PutAPIanswersheetCDC('https://stage.api.a365.vn/mchatr/answersheets/' + this.createdId, body).subscribe\n      (rs => {\n        var body1={\n          \"isCompleted\":checkdata\n        }\n        this.service.PutAPImachartRsatus('https://stage.api.a365.vn/mchatr/answersheets/'+ this.createdId +'/status',body1).subscribe(\n          (rs1 => {\n          this.service.postPushNotification('https://stage.api.a365.vn/mchatr/answersheets/'+ this.createdId ).subscribe(rs2=>{\n          })      \n          }),error=>{\n            this.toast.showToast;\n          }\n          ) \n        }, error => {\n        this.toast.showToast;\n      });\n             \n  }\n\n  inputData(questionData, data, index) {\n    var options = []\n    data.question.options.forEach(optionsData => {\n      options.push({\n        content: this.getSafehtml(optionsData.content),\n        hasInput: optionsData.hasInput,\n        id: optionsData.id,\n        inputType: optionsData.inputType,\n        point: optionsData.point,\n      })\n    });\n    this.getlistquestion.push({\n      questionData: questionData,\n      index: index,\n      code: data.question.code,\n      content: this.getSafehtml(data.question.content),\n      createdAt: data.question.createdAt,\n      id: data.question.id,\n      isDeleted: data.question.isDeleted,\n      options: options,\n      sliderImages: data.question.sliderImages,\n      type: data.question.type,\n      updatedAt: data.question.updatedAt,\n      selectedOptionId: data.selectedOptionId,\n    });\n  }\n  public getSafehtml(html: string) {\n    var txt = document.createElement('textarea');\n    txt.innerHTML = html\n    return txt.value;\n  }\n  // lấy id câu hỏi,câu trả lời\n\n  resutl(Dataquestion, options) {\n    this.OptionsData = options;\n    this.DataquestionData = Dataquestion;\n    this.DataquestionData.selectedOptionId = options.id;\n    \n  }\n  // chuyển câu tiếp\n\n  NextQuestion() {\n    var index = this.Dataquestion.index;\n    this.Dataquestion = this.getlistquestion[index];\n    if(this.DataquestionData.questionData == \"answers\") {\n      if( this.selectedOptionId = \"\"){\n        alert('Trường này không được để chống');\n      }else\n      this.answers.push({\n        questionId: this.DataquestionData.id,\n        selectedOptionId: this.OptionsData.id\n      });\n    }\n  }\n\n}\n"],"sourceRoot":"webpack:///"}