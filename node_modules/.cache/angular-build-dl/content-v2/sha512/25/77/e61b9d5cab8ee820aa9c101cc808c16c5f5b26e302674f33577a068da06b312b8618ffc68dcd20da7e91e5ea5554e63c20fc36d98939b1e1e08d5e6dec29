(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{"0s0z":function(t,n,e){"use strict";e.r(n),e.d(n,"MchatrFPageModule",(function(){return I}));var i=e("ofXK"),o=e("3Pt+"),a=e("TEn/"),s=e("tyNb"),r=e("mrSG"),c=e("ta6Y"),b=e("+pM1"),d=e("e0us"),g=e("Em8t"),l=e("o0vD"),p=e("cU+w"),h=e("1Sgb"),u=e("MmHD"),M=e("mY7k"),m=e("Va6k"),f=e("N59K"),x=e("IjTv"),C=e("LiBs"),w=e("y+tw"),O=e("/Jh7"),P=e("Atey"),v=e("Wesl"),_=e("JlpO"),k=e("fXoL"),q=e("16ES"),L=e("R+ho");const D=function(t){return{viewTrue:t}},T=[{path:"",component:(()=>{class t{constructor(t,n,e,i,o){this.navCtr=t,this.modalController=n,this.service=e,this.toast=i,this.router=o,this.getlistquestion=[],this.ResutlMchatR=[],this.skip=0,this.take=10,this.sort="",this.query="",this.done=!1,this.position="",this.score="",this.completed=!0,this.data=null,this.answers=[],this.Dataquestion={code:"",content:"",createdAt:"",id:"",index:0,isDeleted:"",options:[{id:"",content:""},{id:"",content:""}],questionData:"",selectedOptionId:"",sliderImages:[],type:"",updatedAt:""},this.createdId="",this.OptionsData=null,this.DataquestionData=null,this.Resutlmchatrf=null,this.positons=null,this.answersFollowup=[],this.requireFollowup=!0,this.selectedOptionId="",this.data=this.router.getCurrentNavigation().extras.queryParams,this.Getquestionmchatrf()}ngOnInit(){}Getquestionmchatrf(){this.service.postAPIquestionmchatR("https://stage.api.a365.vn/mchatr/answersheets",{childId:this.data.id}).subscribe(t=>{var n=t.json();this.createdId=n.createdId,this.service.GetanswersheetsMchartR("https://stage.api.a365.vn/mchatr/answersheets/"+n.createdId).subscribe(t=>{var n=t.json(),e=0;n.answers.forEach(t=>{e++,this.inputData("answers",t,e)}),this.Dataquestion=this.getlistquestion[0]},t=>{})})}Putanswersheetmchatrf(){for(var t=!0,n=0;n<this.getlistquestion.length;n++)if(null==this.getlistquestion[n].selectedOptionId||""==this.getlistquestion[n].selectedOptionId){t=!1;break}this.service.PutAPIanswersheetCDC("https://stage.api.a365.vn/mchatr/answersheets/"+this.createdId,{answers:this.answers}).subscribe(t=>{var n=t.json();this.requireFollowup=n.requireFollowup,this.requireFollowup?this.service.postPushNotification("https://stage.api.a365.vn/mchatr/answersheets/"+this.createdId).subscribe(t=>{var n=t.json();this.answersFollowup=n.answers;var e=0;this.answersFollowup.forEach(t=>{1==t.score&&e++}),console.log(JSON.stringify(this.answersFollowup));for(var i=0;i<this.answersFollowup.length;i++)if(1==this.answersFollowup[i].score){this.OpenFollwop(this.answersFollowup[i],e,1);break}},t=>{}):this.navCtr.pop()},t=>{}),this.service.PutAPImachartRsatus("https://stage.api.a365.vn/mchatr/answersheets/"+this.createdId+"/status",{isCompleted:t}).subscribe(t=>{},t=>{})}inputData(t,n,e){var i=[];n.question.options.forEach(t=>{i.push({content:this.getSafehtml(t.content),hasInput:t.hasInput,id:t.id,inputType:t.inputType,point:t.point})}),this.getlistquestion.push({questionData:t,index:e,code:n.question.code,content:this.getSafehtml(n.question.content),createdAt:n.question.createdAt,id:n.question.id,isDeleted:n.question.isDeleted,options:i,sliderImages:n.question.sliderImages,type:n.question.type,updatedAt:n.question.updatedAt,selectedOptionId:""})}getSafehtml(t){var n=document.createElement("textarea");return n.innerHTML=t,n.value}resutl(t,n){this.OptionsData=n,this.DataquestionData=t,this.DataquestionData.selectedOptionId=n.id}NextQuestion(){var t=this.Dataquestion.index;21!=t&&(this.Dataquestion=this.getlistquestion[t],"answers"==this.DataquestionData.questionData&&((this.selectedOptionId="")?alert("Tr\u01b0\u1eddng n\xe0y kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 ch\u1ed1ng"):this.answers.push({questionId:this.DataquestionData.id,selectedOptionId:this.OptionsData.id})))}GetResutlmcharRF(){this.service.postGet("https://stage.api.a365.vn/mchatr/answersheets/"+this.createdId).subscribe(t=>{t.json(),this.Dataquestion=this.getlistquestion[0]},t=>{})}OpenFollwop(t,n,e){return Object(r.a)(this,void 0,void 0,(function*(){var i;switch(t.question.code){case"MCHAT-1":i=c.a;break;case"MCHAT-2":i=b.a;break;case"MCHAT-3":i=d.a;break;case"MCHAT-4":i=g.a;break;case"MCHAT-5":i=l.a;break;case"MCHAT-6":i=p.a;break;case"MCHAT-7":i=h.a;break;case"MCHAT-8":i=u.a;break;case"MCHAT-9":i=M.a;break;case"MCHAT-10":i=m.a;break;case"MCHAT-11":i=f.a;break;case"MCHAT-12":i=x.a;break;case"MCHAT-13":i=C.a;break;case"MCHAT-14":case"MCHAT-15":i=w.a;break;case"MCHAT-16":i=O.a;break;case"MCHAT-17":i=P.a;break;case"MCHAT-18":i=v.a;break;case"MCHAT-19":i=M.a;break;case"MCHAT-20":i=_.a}var o=!1;n==e&&(o=!0);const a=yield this.modalController.create({component:i,componentProps:{serial:e,id:this.createdId,done:o},cssClass:"cssModalFollowup"});return a.onDidDismiss().then(t=>{for(var e=t.data,i=!0,o=e.index;o<this.answersFollowup.length;o++)if(1==this.answersFollowup[o].score){i=!1,this.OpenFollwop(this.answersFollowup[o],n,e.serial+1);break}1==i&&this.navCtr.pop()}),yield a.present()}))}}return t.\u0275fac=function(n){return new(n||t)(k.Jb(a.P),k.Jb(a.O),k.Jb(q.a),k.Jb(L.a),k.Jb(s.g))},t.\u0275cmp=k.Db({type:t,selectors:[["app-mchatr-f"]],decls:65,vars:11,consts:[["slot","start",2,"width","15%"],["text","","aria-label","chevron back outline",2,"color","white","background-color","#c92534","text-align","center"],[2,"width","15%"],[1,"container-fluid",2,"margin-bottom","10px"],[1,"conten"],[1,"conten1"],[1,"img3"],[1,"imgconten"],[1,"iconnumber"],[1,"textchl"],[1,"img4"],[1,"imgconten3"],[1,"iconnumbercenter"],[1,"numbercenter"],[1,"texttsch"],[1,"img5"],[1,"imgconten2"],[1,"container"],[1,"tab"],[1,"tab1"],[2,"color","white"],[3,"innerHTML"],[1,"tab",3,"ngClass","click"],[1,"tab2"],[1,"pa"],[2,"width","60%","float","left","text-align","center",3,"innerHTML"],[1,"menu"],[1,"img1",3,"click"],[1,"icon1"],["src","/assets/imgs/L\u01b0u c\xe2u h\u1ecfi.png"],[1,"textmenu"],[1,"imgcenter",3,"click"],[1,"icon2"],["src","/assets/imgs/H\u1ed7 tr\u1ee3 tr\u1ef1c tuy\u1ebfn.png"],[1,"img2",3,"click"],["src","/assets/imgs/b\u1ecf qua.png"]],template:function(t,n){1&t&&(k.Mb(0,"ion-header"),k.Mb(1,"ion-toolbar"),k.Mb(2,"ion-buttons",0),k.Kb(3,"ion-back-button",1),k.Lb(),k.Mb(4,"ion-title"),k.nc(5,"B\xe0i test MchartR/F"),k.Lb(),k.Kb(6,"div",2),k.Lb(),k.Lb(),k.Mb(7,"ion-content"),k.Mb(8,"div",3),k.Mb(9,"div",4),k.nc(10," GIAO TI\u1ebeP "),k.Lb(),k.Mb(11,"div",5),k.Mb(12,"div",6),k.Mb(13,"div",7),k.Mb(14,"div",8),k.nc(15,"3 "),k.Lb(),k.Lb(),k.Mb(16,"div",9),k.Mb(17,"label"),k.nc(18,"C\xe2u h\u1ecfi l\u01b0u"),k.Lb(),k.Lb(),k.Lb(),k.Mb(19,"div",10),k.Mb(20,"div",11),k.Mb(21,"div",12),k.Mb(22,"label",13),k.nc(23),k.Lb(),k.Lb(),k.Lb(),k.Mb(24,"div",14),k.Mb(25,"label"),k.nc(26,"T\u1ed5ng s\u1ed1 c\xe2u h\u1ecfi"),k.Lb(),k.Lb(),k.Lb(),k.Mb(27,"div",15),k.Mb(28,"div",16),k.Mb(29,"div",8),k.nc(30),k.Lb(),k.Lb(),k.Mb(31,"div",9),k.Mb(32,"label"),k.nc(33,"C\xe2u h\u1ecfi s\u1ed1"),k.Lb(),k.Lb(),k.Lb(),k.Lb(),k.Mb(34,"div",17),k.Mb(35,"div",18),k.Mb(36,"div",19),k.Mb(37,"p",20),k.Kb(38,"span",21),k.Lb(),k.Lb(),k.Lb(),k.Mb(39,"div",22),k.Ub("click",(function(){return n.resutl(n.Dataquestion,n.Dataquestion.options[0])})),k.Mb(40,"button",23),k.Mb(41,"div",24),k.nc(42," A : "),k.Lb(),k.Kb(43,"span",25),k.Lb(),k.Lb(),k.Mb(44,"div",22),k.Ub("click",(function(){return n.resutl(n.Dataquestion,n.Dataquestion.options[1])})),k.Mb(45,"button",23),k.Mb(46,"div",24),k.nc(47,"B : "),k.Lb(),k.Kb(48,"span",25),k.Lb(),k.Lb(),k.Mb(49,"div",26),k.Mb(50,"div",27),k.Ub("click",(function(){return n.Putanswersheetmchatrf()})),k.Mb(51,"div",28),k.Kb(52,"img",29),k.Lb(),k.Mb(53,"p",30),k.nc(54,"L\u01b0u c\xe2u h\u1ecfi"),k.Lb(),k.Lb(),k.Mb(55,"div",31),k.Ub("click",(function(){return n.GetResutlmcharRF()})),k.Mb(56,"div",32),k.Kb(57,"img",33),k.Lb(),k.Mb(58,"p",30),k.nc(59,"Xem K\u1ebft Qu\u1ea3"),k.Lb(),k.Lb(),k.Mb(60,"div",34),k.Ub("click",(function(){return n.NextQuestion()})),k.Mb(61,"div",28),k.Kb(62,"img",35),k.Lb(),k.Mb(63,"p",30),k.nc(64,"C\xe2u Ti\u1ebfp"),k.Lb(),k.Lb(),k.Lb(),k.Lb(),k.Lb(),k.Lb()),2&t&&(k.zb(23),k.oc(n.getlistquestion.length),k.zb(7),k.pc("",n.Dataquestion.index," "),k.zb(8),k.bc("innerHTML",n.Dataquestion.content,k.ic),k.zb(1),k.bc("ngClass",k.dc(7,D,n.Dataquestion.selectedOptionId==n.Dataquestion.options[0].id)),k.zb(4),k.bc("innerHTML",n.Dataquestion.options[0].content,k.ic),k.zb(1),k.bc("ngClass",k.dc(9,D,n.Dataquestion.selectedOptionId==n.Dataquestion.options[1].id)),k.zb(4),k.bc("innerHTML",n.Dataquestion.options[1].content,k.ic))},directives:[a.l,a.I,a.f,a.c,a.d,a.H,a.h,i.i],styles:[".containerconten[_ngcontent-%COMP%]{margin-left:3%;margin-right:3%;margin-bottom:5px;height:30%}.container[_ngcontent-%COMP%]{border-radius:7px;background-color:#fff;margin:7px;padding:5px}.menu[_ngcontent-%COMP%]{height:100px}.menu[_ngcontent-%COMP%], .menuconten[_ngcontent-%COMP%]{margin-left:5%;margin-right:5%;margin-top:30px}.menuconten[_ngcontent-%COMP%]{height:20%}.container-fluid[_ngcontent-%COMP%]{width:100%;height:100%}.tab21[_ngcontent-%COMP%]{background-color:#38a9bb;text-align:center;padding:1px}.tab[_ngcontent-%COMP%], .tab21[_ngcontent-%COMP%]{border-radius:7px}.tab[_ngcontent-%COMP%]{margin:10px 5px}.pa[_ngcontent-%COMP%]{width:20%;float:left;text-align:center;margin-top:16px}.tab2[_ngcontent-%COMP%]{background-color:#38a9bb;margin-top:10px;border-radius:31px;padding-top:5px;padding-left:10px;color:#fff;width:100%;height:51px}ion-content[_ngcontent-%COMP%]{--background:none;background-image:url(/assets/imgs/backgrourbaitestMchartR.jpg);background-repeat:no-repeat;background-size:cover;min-width:240px;max-width:768px}.container1[_ngcontent-%COMP%]{width:25%;float:left}.container2[_ngcontent-%COMP%]{width:40%}.container3[_ngcontent-%COMP%]{width:25%;float:right}.conten[_ngcontent-%COMP%]{font-size:17px;font-family:none;text-align:center;margin-top:10%;color:#fff;zoom:2;margin-bottom:10px}.texta[_ngcontent-%COMP%]{margin-top:19px}.texta[_ngcontent-%COMP%], .textcenter[_ngcontent-%COMP%]{font-size:14px;text-align:center;color:#fff}.textcenter[_ngcontent-%COMP%]{margin-top:40px}.number[_ngcontent-%COMP%]{font-size:45px;margin-top:20px}.number[_ngcontent-%COMP%], .numberA[_ngcontent-%COMP%]{color:#fff;text-align:center;display:block}.numberA[_ngcontent-%COMP%]{font-size:60px;margin-top:35px}.img1[_ngcontent-%COMP%]{float:left}.img1[_ngcontent-%COMP%], .img2[_ngcontent-%COMP%]{width:25%;border-radius:30px}.img2[_ngcontent-%COMP%]{float:right}.img3[_ngcontent-%COMP%], .img4[_ngcontent-%COMP%]{width:33%;float:left}.img4[_ngcontent-%COMP%]{border-radius:30px}.imgcenter[_ngcontent-%COMP%]{width:50%;float:left}.textmenu[_ngcontent-%COMP%]{text-align:center;font-size:12px;color:#38a9bb;margin:0;width:100%}.imgconten[_ngcontent-%COMP%]{width:55px;height:55px;background-color:#f0b51d;text-align:center}.imgconten[_ngcontent-%COMP%], .imgconten3[_ngcontent-%COMP%]{border-radius:54px;margin:0 auto}.imgconten3[_ngcontent-%COMP%]{width:90px;height:90px;background-color:#87ba3b}.imgconten2[_ngcontent-%COMP%]{width:55px;height:55px;border-radius:54px;background-color:#07cba7;text-align:center;margin:0 auto}.iconnumber[_ngcontent-%COMP%]{font-size:30px;padding-top:10px}.iconnumber[_ngcontent-%COMP%], .iconnumbercenter[_ngcontent-%COMP%]{text-align:center;font-weight:800;color:#fff}.iconnumbercenter[_ngcontent-%COMP%]{padding-top:20px;height:100%;font-size:45px}.numbercenter[_ngcontent-%COMP%]{font-weight:800;color:#fff;font-size:40px}.img5[_ngcontent-%COMP%]{width:33%;float:right}.texttsch[_ngcontent-%COMP%]{font-size:13px;margin-top:5px;color:#fff;width:100%;text-align:center}.icon1[_ngcontent-%COMP%]{margin-right:20%;margin-left:20%}.icon2[_ngcontent-%COMP%]{margin-right:29%;margin-left:29%;text-align:center}.conten1[_ngcontent-%COMP%]{height:21%;width:100%}.tab1[_ngcontent-%COMP%]{background-color:#38a9bb;border-radius:7px;text-align:center;padding:1px}.contenicon[_ngcontent-%COMP%]{width:55px;height:55px;border-radius:54px;background-color:#f0b51d;margin-top:16%;margin-left:29%}.chl[_ngcontent-%COMP%]{font-weight:800;color:#fff;font-size:30px}.textchl[_ngcontent-%COMP%]{width:100%;font-size:13px;margin-top:5%;color:#fff;text-align:center}span[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:77%}.tab2[_ngcontent-%COMP%]:hover{background-color:#e65a5a;margin-top:10px;border-radius:31px;padding-top:5px;padding-left:10px;color:#fff;width:100%;height:51px}ion-toolbar[_ngcontent-%COMP%]{--background:#c92534}.button[_ngcontent-%COMP%]{border-color:#c92534!important}.followupView[_ngcontent-%COMP%]{position:fixed;z-index:10;width:80%;top:31%;margin-left:10%;background:#fff;border:1px solid #d2d2d2;box-shadow:4px 7px 7px 2px #d2d2d2}.followup[_ngcontent-%COMP%]{width:50%;float:left;text-align:center;height:45px;padding-top:13px}.titlefollowup[_ngcontent-%COMP%]{text-align:center;padding-top:7px;border-bottom:1px solid #f2f2f2;background:#c92534;color:#fff;height:32px}"]}),t})()}];let A=(()=>{class t{}return t.\u0275mod=k.Hb({type:t}),t.\u0275inj=k.Gb({factory:function(n){return new(n||t)},imports:[[s.i.forChild(T)],s.i]}),t})(),I=(()=>{class t{}return t.\u0275mod=k.Hb({type:t}),t.\u0275inj=k.Gb({factory:function(n){return new(n||t)},imports:[[i.b,o.b,a.K,A]]}),t})()}}]);