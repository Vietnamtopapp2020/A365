(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["page-mchatrguest-mchatrguest-module"],{

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/page/mchatrguest/mchatrguest.page.html":
/*!**********************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/page/mchatrguest/mchatrguest.page.html ***!
  \**********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-header>\n  <ion-toolbar>\n    <ion-title>mchatrguest</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n\n</ion-content>\n");

/***/ }),

/***/ "./src/app/page/mchatrguest/mchatrguest-routing.module.ts":
/*!****************************************************************!*\
  !*** ./src/app/page/mchatrguest/mchatrguest-routing.module.ts ***!
  \****************************************************************/
/*! exports provided: MchatrguestPageRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MchatrguestPageRoutingModule", function() { return MchatrguestPageRoutingModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js");
/* harmony import */ var _mchatrguest_page__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./mchatrguest.page */ "./src/app/page/mchatrguest/mchatrguest.page.ts");




const routes = [
    {
        path: '',
        component: _mchatrguest_page__WEBPACK_IMPORTED_MODULE_3__["MchatrguestPage"]
    }
];
let MchatrguestPageRoutingModule = class MchatrguestPageRoutingModule {
};
MchatrguestPageRoutingModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        imports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"].forChild(routes)],
        exports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]],
    })
], MchatrguestPageRoutingModule);



/***/ }),

/***/ "./src/app/page/mchatrguest/mchatrguest.module.ts":
/*!********************************************************!*\
  !*** ./src/app/page/mchatrguest/mchatrguest.module.ts ***!
  \********************************************************/
/*! exports provided: MchatrguestPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MchatrguestPageModule", function() { return MchatrguestPageModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/__ivy_ngcc__/fesm2015/forms.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js");
/* harmony import */ var _mchatrguest_routing_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./mchatrguest-routing.module */ "./src/app/page/mchatrguest/mchatrguest-routing.module.ts");
/* harmony import */ var _mchatrguest_page__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./mchatrguest.page */ "./src/app/page/mchatrguest/mchatrguest.page.ts");







let MchatrguestPageModule = class MchatrguestPageModule {
};
MchatrguestPageModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        imports: [
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"],
            _mchatrguest_routing_module__WEBPACK_IMPORTED_MODULE_5__["MchatrguestPageRoutingModule"]
        ],
        declarations: [_mchatrguest_page__WEBPACK_IMPORTED_MODULE_6__["MchatrguestPage"]]
    })
], MchatrguestPageModule);



/***/ }),

/***/ "./src/app/page/mchatrguest/mchatrguest.page.scss":
/*!********************************************************!*\
  !*** ./src/app/page/mchatrguest/mchatrguest.page.scss ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2UvbWNoYXRyZ3Vlc3QvbWNoYXRyZ3Vlc3QucGFnZS5zY3NzIn0= */");

/***/ }),

/***/ "./src/app/page/mchatrguest/mchatrguest.page.ts":
/*!******************************************************!*\
  !*** ./src/app/page/mchatrguest/mchatrguest.page.ts ***!
  \******************************************************/
/*! exports provided: MchatrguestPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MchatrguestPage", function() { return MchatrguestPage; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js");
/* harmony import */ var src_app_providers_service_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/providers/service.service */ "./src/app/providers/service.service.ts");
/* harmony import */ var src_app_providers_toast_service_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/providers/toast-service.service */ "./src/app/providers/toast-service.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js");






let MchatrguestPage = class MchatrguestPage {
    constructor(navCtr, modalController, service, toast, router) {
        this.navCtr = navCtr;
        this.modalController = modalController;
        this.service = service;
        this.toast = toast;
        this.router = router;
        this.getlistquestion = [];
        this.ResutlMchatR = [];
        this.skip = 0;
        this.take = 10;
        this.sort = '';
        this.query = '';
        this.completed = true;
        this.data = null;
        this.answers = [];
        this.Dataquestion = {
            code: '',
            content: '',
            createdAt: '',
            id: '',
            index: '',
            isDeleted: '',
            options: [
                {
                    id: "",
                    content: "",
                },
                {
                    id: "",
                    content: "",
                },
            ],
            questionData: '',
            selectedOptionId: '',
            sliderImages: [],
            type: "",
            updatedAt: '',
        };
        this.createdId = "";
        this.OptionsData = null;
        this.DataquestionData = null;
        this.Data = this.router.getCurrentNavigation().extras.queryParams;
    }
    ngOnInit() {
    }
    Getquestionmchatr() {
        var body = {
            childId: this.data.id
        };
        // Call API post câu hỏi trong mchartR
        this.service.GetanswersheetsMchartR(this.service.getHost() + 'asq/guest/answersheets/' + this.Data.answersheetId + '?token=' + this.Data.token).subscribe(rs1 => {
            var answersheets = rs1.json();
            var index = 0;
            answersheets.answers.forEach(element => {
                index++;
                this.inputData("answers", element, index);
            });
            this.Dataquestion = this.getlistquestion[0];
        }, error => {
            this.toast.showToast;
        });
    }
    // update câu trả lời
    Putanswersheetmchatr() {
        var checkdata = true;
        for (var i = 0; i < this.getlistquestion.length; i++) {
            if (this.getlistquestion[i].selectedOptionId == null || this.getlistquestion[i].selectedOptionId == "") {
                checkdata = false;
                break;
            }
        }
        var body = {
            "answers": this.answers
        };
        this.service.PutAPIanswersheetCDC(this.service.getHost() + 'mchatr/answersheets/' + this.createdId, body).subscribe(rs => {
            var body1 = {
                "isCompleted": checkdata
            };
            this.service.PutAPImachartRsatus(this.service.getHost() + 'mchatr/answersheets/' + this.createdId + '/status', body1).subscribe((rs1 => {
                this.service.postPushNotification(this.service.getHost() + 'mchatr/answersheets/' + this.createdId).subscribe(rs2 => {
                });
            }), error => {
                this.toast.showToast;
            });
        }, error => {
            this.toast.showToast;
        });
    }
    inputData(questionData, data, index) {
        var options = [];
        data.question.options.forEach(optionsData => {
            options.push({
                content: this.getSafehtml(optionsData.content),
                hasInput: optionsData.hasInput,
                id: optionsData.id,
                inputType: optionsData.inputType,
                point: optionsData.point,
            });
        });
        this.getlistquestion.push({
            questionData: questionData,
            index: index,
            code: data.question.code,
            content: this.getSafehtml(data.question.content),
            createdAt: data.question.createdAt,
            id: data.question.id,
            isDeleted: data.question.isDeleted,
            options: options,
            sliderImages: data.question.sliderImages,
            type: data.question.type,
            updatedAt: data.question.updatedAt,
            selectedOptionId: data.selectedOptionId,
        });
    }
    getSafehtml(html) {
        var txt = document.createElement('textarea');
        txt.innerHTML = html;
        return txt.value;
    }
    // lấy id câu hỏi,câu trả lời
    resutl(Dataquestion, options) {
        this.OptionsData = options;
        this.DataquestionData = Dataquestion;
        this.DataquestionData.selectedOptionId = options.id;
    }
    // chuyển câu tiếp
    NextQuestion() {
        var index = this.Dataquestion.index;
        this.Dataquestion = this.getlistquestion[index];
        if (this.DataquestionData.questionData == "answers") {
            if (this.selectedOptionId = "") {
                alert('Trường này không được để chống');
            }
            else
                this.answers.push({
                    questionId: this.DataquestionData.id,
                    selectedOptionId: this.OptionsData.id
                });
        }
    }
};
MchatrguestPage.ctorParameters = () => [
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["NavController"] },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ModalController"] },
    { type: src_app_providers_service_service__WEBPACK_IMPORTED_MODULE_3__["ServiceService"] },
    { type: src_app_providers_toast_service_service__WEBPACK_IMPORTED_MODULE_4__["ToastServiceService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_5__["Router"] }
];
MchatrguestPage = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-mchatrguest',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./mchatrguest.page.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/page/mchatrguest/mchatrguest.page.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./mchatrguest.page.scss */ "./src/app/page/mchatrguest/mchatrguest.page.scss")).default]
    })
], MchatrguestPage);



/***/ })

}]);
//# sourceMappingURL=page-mchatrguest-mchatrguest-module-es2015.js.map