{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{MbGh:function(t,e,n){\"use strict\";n.r(e),n.d(e,\"MchatrguestPageModule\",(function(){return p}));var i=n(\"Valr\"),s=n(\"QJY3\"),o=n(\"sPEm\"),a=n(\"DUip\"),r=n(\"TYT/\"),u=n(\"16ES\"),c=n(\"R+ho\"),d=[{path:\"\",component:function(){function t(t,e,n,i,s){this.navCtr=t,this.modalController=e,this.service=n,this.toast=i,this.router=s,this.getlistquestion=[],this.ResutlMchatR=[],this.skip=0,this.take=10,this.sort=\"\",this.query=\"\",this.completed=!0,this.data=null,this.answers=[],this.Dataquestion={code:\"\",content:\"\",createdAt:\"\",id:\"\",index:\"\",isDeleted:\"\",options:[{id:\"\",content:\"\"},{id:\"\",content:\"\"}],questionData:\"\",selectedOptionId:\"\",sliderImages:[],type:\"\",updatedAt:\"\"},this.createdId=\"\",this.OptionsData=null,this.DataquestionData=null,this.Data=this.router.getCurrentNavigation().extras.queryParams}return t.prototype.ngOnInit=function(){},t.prototype.Getquestionmchatr=function(){var t=this;this.service.GetanswersheetsMchartR(this.service.getHost()+\"asq/guest/answersheets/\"+this.Data.answersheetId+\"?token=\"+this.Data.token).subscribe((function(e){var n=e.json(),i=0;n.answers.forEach((function(e){i++,t.inputData(\"answers\",e,i)})),t.Dataquestion=t.getlistquestion[0]}),(function(t){}))},t.prototype.Putanswersheetmchatr=function(){for(var t=this,e=!0,n=0;n<this.getlistquestion.length;n++)if(null==this.getlistquestion[n].selectedOptionId||\"\"==this.getlistquestion[n].selectedOptionId){e=!1;break}var i={answers:this.answers};this.service.PutAPIanswersheetCDC(this.service.getHost()+\"mchatr/answersheets/\"+this.createdId,i).subscribe((function(n){var i={isCompleted:e};t.service.PutAPImachartRsatus(t.service.getHost()+\"mchatr/answersheets/\"+t.createdId+\"/status\",i).subscribe((function(e){t.service.postPushNotification(t.service.getHost()+\"mchatr/answersheets/\"+t.createdId).subscribe((function(t){}))}),(function(t){}))}),(function(t){}))},t.prototype.inputData=function(t,e,n){var i=this,s=[];e.question.options.forEach((function(t){s.push({content:i.getSafehtml(t.content),hasInput:t.hasInput,id:t.id,inputType:t.inputType,point:t.point})})),this.getlistquestion.push({questionData:t,index:n,code:e.question.code,content:this.getSafehtml(e.question.content),createdAt:e.question.createdAt,id:e.question.id,isDeleted:e.question.isDeleted,options:s,sliderImages:e.question.sliderImages,type:e.question.type,updatedAt:e.question.updatedAt,selectedOptionId:e.selectedOptionId})},t.prototype.getSafehtml=function(t){var e=document.createElement(\"textarea\");return e.innerHTML=t,e.value},t.prototype.resutl=function(t,e){this.OptionsData=e,this.DataquestionData=t,this.DataquestionData.selectedOptionId=e.id},t.prototype.NextQuestion=function(){this.Dataquestion=this.getlistquestion[this.Dataquestion.index],\"answers\"==this.DataquestionData.questionData&&((this.selectedOptionId=\"\")?alert(\"Tr\\u01b0\\u1eddng n\\xe0y kh\\xf4ng \\u0111\\u01b0\\u1ee3c \\u0111\\u1ec3 ch\\u1ed1ng\"):this.answers.push({questionId:this.DataquestionData.id,selectedOptionId:this.OptionsData.id}))},t.\\u0275fac=function(e){return new(e||t)(r[\"\\u0275\\u0275directiveInject\"](o.Q),r[\"\\u0275\\u0275directiveInject\"](o.P),r[\"\\u0275\\u0275directiveInject\"](u.a),r[\"\\u0275\\u0275directiveInject\"](c.a),r[\"\\u0275\\u0275directiveInject\"](a.g))},t.\\u0275cmp=r[\"\\u0275\\u0275defineComponent\"]({type:t,selectors:[[\"app-mchatrguest\"]],decls:5,vars:0,template:function(t,e){1&t&&(r[\"\\u0275\\u0275elementStart\"](0,\"ion-header\"),r[\"\\u0275\\u0275elementStart\"](1,\"ion-toolbar\"),r[\"\\u0275\\u0275elementStart\"](2,\"ion-title\"),r[\"\\u0275\\u0275text\"](3,\"mchatrguest\"),r[\"\\u0275\\u0275elementEnd\"](),r[\"\\u0275\\u0275elementEnd\"](),r[\"\\u0275\\u0275elementEnd\"](),r[\"\\u0275\\u0275element\"](4,\"ion-content\"))},directives:[o.l,o.J,o.I,o.h],styles:[\"\"]}),t}()}],h=function(){function t(){}return t.\\u0275mod=r[\"\\u0275\\u0275defineNgModule\"]({type:t}),t.\\u0275inj=r[\"\\u0275\\u0275defineInjector\"]({factory:function(e){return new(e||t)},imports:[[a.j.forChild(d)],a.j]}),t}(),p=function(){function t(){}return t.\\u0275mod=r[\"\\u0275\\u0275defineNgModule\"]({type:t}),t.\\u0275inj=r[\"\\u0275\\u0275defineInjector\"]({factory:function(e){return new(e||t)},imports:[[i.b,s.c,o.L,h]]}),t}()}}]);","extractedComments":[]}